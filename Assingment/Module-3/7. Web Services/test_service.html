<!DOCTYPE html>
<html>
<head>
    <title>Web Service Tester</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        .header { background: #333; color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; text-align: center; }
        .test-section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .test-buttons { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .test-btn { background: #007bff; color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer; }
        .test-btn:hover { background: #0056b3; }
        .custom-test { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
        .custom-test input { padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .response { background: #f8f9fa; border: 1px solid #ddd; border-radius: 4px; padding: 15px; margin-top: 15px; }
        .success { border-left: 4px solid #28a745; }
        .error { border-left: 4px solid #dc3545; }
        .endpoint { background: #e9ecef; padding: 10px; border-radius: 4px; font-family: monospace; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Product Web Service Tester</h1>
            <p>Test RESTful API endpoints for product data</p>
        </div>

        <div class="test-section">
            <h3>Quick Tests</h3>
            <div class="test-buttons">
                <button class="test-btn" onclick="testEndpoint('products_service.php')">All Products</button>
                <button class="test-btn" onclick="testEndpoint('products_service.php?id=1')">Product ID 1</button>
                <button class="test-btn" onclick="testEndpoint('products_service.php?id=999')">Invalid ID (Error)</button>
                <button class="test-btn" onclick="testEndpoint('products_service.php?category=Electronics')">Electronics Category</button>
                <button class="test-btn" onclick="testEndpoint('products_service.php?category=InvalidCategory')">Invalid Category (Error)</button>
                <button class="test-btn" onclick="testEndpoint('products_service.php?search=laptop')">Search 'laptop'</button>
                <button class="test-btn" onclick="testEndpoint('products_service.php?search=xyz')">Search 'xyz' (Error)</button>
            </div>
        </div>

        <div class="test-section">
            <h3>Custom Test</h3>
            <div class="custom-test">
                <label>Product ID:</label>
                <input type="number" id="productId" placeholder="e.g., 1">
                
                <label>Category:</label>
                <input type="text" id="category" placeholder="e.g., Electronics">
                
                <label>Search:</label>
                <input type="text" id="search" placeholder="e.g., laptop">
                
                <button class="test-btn" onclick="customTest()">Test Custom</button>
            </div>
        </div>

        <div class="test-section">
            <h3>API Response</h3>
            <div class="endpoint" id="currentEndpoint">Click a test button to see results</div>
            <div id="response" class="response">No request made yet</div>
        </div>

        <div class="test-section">
            <h3>API Documentation</h3>
            <h4>Endpoints:</h4>
            <ul>
                <li><strong>GET /products_service.php</strong> - Get all products</li>
                <li><strong>GET /products_service.php?id={id}</strong> - Get product by ID</li>
                <li><strong>GET /products_service.php?category={category}</strong> - Filter by category</li>
                <li><strong>GET /products_service.php?search={term}</strong> - Search products</li>
            </ul>
            
            <h4>Response Format:</h4>
            <pre>{
  "error": false,
  "message": "Success message",
  "data": [...],
  "timestamp": "2024-01-01 12:00:00"
}</pre>
        </div>
    </div>

    <script>
        async function testEndpoint(url) {
            document.getElementById('currentEndpoint').textContent = 'GET ' + url;
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                
                const responseDiv = document.getElementById('response');
                responseDiv.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
                
                if (data.error) {
                    responseDiv.className = 'response error';
                } else {
                    responseDiv.className = 'response success';
                }
                
            } catch (error) {
                document.getElementById('response').innerHTML = 
                    '<div class="error">Network Error: ' + error.message + '</div>';
                document.getElementById('response').className = 'response error';
            }
        }

        function customTest() {
            const id = document.getElementById('productId').value;
            const category = document.getElementById('category').value;
            const search = document.getElementById('search').value;
            
            let url = 'products_service.php';
            let params = [];
            
            if (id) params.push('id=' + encodeURIComponent(id));
            if (category) params.push('category=' + encodeURIComponent(category));
            if (search) params.push('search=' + encodeURIComponent(search));
            
            if (params.length > 0) {
                url += '?' + params.join('&');
            }
            
            testEndpoint(url);
        }
    </script>
</body>
</html>
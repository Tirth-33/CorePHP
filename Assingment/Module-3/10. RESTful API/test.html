<!DOCTYPE html>
<html>
<head>
    <title>RESTful API Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; }
        button { padding: 8px 15px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; }
        textarea { width: 100%; height: 100px; margin: 10px 0; }
        .response { background: #f8f9fa; padding: 10px; margin: 10px 0; border-left: 3px solid #007bff; }
    </style>
</head>
<body>
    <h1>RESTful API Test Interface</h1>
    
    <div class="section">
        <h3>Users API</h3>
        <button onclick="testAPI('GET', 'users')">GET /users</button>
        <button onclick="testAPI('GET', 'users/1')">GET /users/1</button>
        <button onclick="testAPI('POST', 'users', {name: 'Test User', email: 'test@example.com'})">POST /users</button>
        <button onclick="testAPI('PUT', 'users/1', {name: 'Updated User', email: 'updated@example.com'})">PUT /users/1</button>
        <button onclick="testAPI('DELETE', 'users/1')">DELETE /users/1</button>
    </div>

    <div class="section">
        <h3>Products API</h3>
        <button onclick="testAPI('GET', 'products')">GET /products</button>
        <button onclick="testAPI('GET', 'products/1')">GET /products/1</button>
        <button onclick="testAPI('POST', 'products', {name: 'Test Product', price: 999.99, category: 'Test'})">POST /products</button>
        <button onclick="testAPI('PUT', 'products/1', {name: 'Updated Product', price: 1299.99, category: 'Updated'})">PUT /products/1</button>
        <button onclick="testAPI('DELETE', 'products/1')">DELETE /products/1</button>
    </div>

    <div class="section">
        <h3>Response</h3>
        <div id="response" class="response">Click a button to test the API</div>
    </div>

    <script>
        async function testAPI(method, endpoint, data = null) {
            const url = `api.php/${endpoint}`;
            const options = {
                method: method,
                headers: {
                    'Content-Type': 'application/json'
                }
            };

            if (data) {
                options.body = JSON.stringify(data);
            }

            try {
                const response = await fetch(url, options);
                const result = await response.json();
                
                document.getElementById('response').innerHTML = `
                    <strong>${method} ${endpoint}</strong><br>
                    Status: ${response.status}<br>
                    Response: <pre>${JSON.stringify(result, null, 2)}</pre>
                `;
            } catch (error) {
                document.getElementById('response').innerHTML = `
                    <strong>Error:</strong> ${error.message}
                `;
            }
        }
    </script>
</body>
</html>